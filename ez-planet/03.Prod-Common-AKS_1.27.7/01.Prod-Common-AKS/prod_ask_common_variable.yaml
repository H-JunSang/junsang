# # For Region
location: koreacentral # For Region

# For Prefix Variable
prefix: EZ-Planet # For Prefix Variable

# For Prod Resource Group and resource tags
prodrg: PaaS-Prod-RG # For Prod Resource Group
sharedrg: PaaS-Shared-RG # For Shared Resource Group
sp_prod_common_rg: PaaS-SP-Prod-RG # For SP-Prod-Common Resource Group
prod_tag_creator: "Laonpeople" # For Prod Resource Tags
prod_common_tag_environment: "Prod-Common" # For Prod IT Common Tags
billing_api_tag: Prod-Common-AKS
test_tag: test-20240201

# For Prod virtual network variable
prod_vnet: "PaaS-Prod-vNET" # For Prod Vnet Name

# For Shared virtual network variable
shared_vnet: "PaaS-Shared-vNET" # For Prod Vnet Name

# For Mgmt virtual network variable
Mgmt_vnet: "Laonpeople-Mgmt-vNET"

# For SP-Prod-Common virtual network variable
sp_prod_common_vnet: "Service-Platform-Prod-vNET" # For SP-Prod-Common Vnet Name

# For Prod Subnet Ids To Assign To Network Security Groups
prod_common_subnet: PaaS-Prod-Common-Subnet # For Prod Vnet IT Common Subnet name

# For Prod K8S L7 로드밸런서
prod_common_k8s_l7_gateway_name: PaaS-Prod-Common-Ingress-Gateway-01 # L7 로드밸런서 이름

# 쿠버네티스 Service Principal(쿠버네티스 클러스터 배포 전 Azure CLI 사용하여 생성)
service_appid: "c276d24c-7474-430a-b2fa-57b530d823f9" # Service Principal 앱 ID
service_secret: "tUr8Q~kJMYDzRC5vpAbECaV4qNSHBvSsOlbRBaje" # Service Principal 시크릿

# Azure 쿠버네티스 공통 변수
network_plugin: "azure" # 네트워크 플러그인
network_policy: "calico" # 네트워크 정책
loadbalancer_sku: "standard" # 로드밸런서 SKU
private_cluster: "true" # 프라이빗 클러스터
k8s_sku_tier: "Standard" # 쿠버네티스 SKU
k8s_version: "1.27.7" # 쿠버네티스 버전
auto_scale_false: "false" # 오토스케일링 여부
auto_scale_true: "true" # 오토스케일링 여부
disk_driver_enabled: "true" # CSI 드라이버 Enable
file_driver_enabled: "true" # 파일 드라이버 Enable
publisher: "Microsoft" # 퍼블리셔(마이크로소프트 제공)
product: "OMSGallery/ContainerInsights" # 프로덕트(컨테이너 인사이트)
azure_policy_enabled: "true" # Azure 정책 
secret_rotation_enabled: "true" # 시크릿 로테이션 
secret_rotation_interval: "10080m" # 시크릿 로테이션 인터벌(7일 설정)

# For Common 쿠버네티스
prod_common_node_resorce_group: "PaaS-Prod-Common-VMSS-RG" # 쿠버네티스 노드 풀 리소스 그룹
prod_common_k8s_name: "PaaS-Prod-Common-K8S-1-27-7" # Common 쿠버네티스 클러스터 이름
prod_common_k8s_dns_prefix: "common-k8s" # Common 쿠버네티스 DNS 프리픽스
prod_common_k8s_service_cidr: "10.21.0.0/16" # Common 쿠버네티스 서비스 CIDR
prod_common_k8s_dns_service_ip: "10.21.0.10" # Common 쿠버네티스 DNS 주소
###
prod_common_agent_pool: "agentpool" # Common 쿠버네티스 에이전트 풀 이름, 리눅스 노드 풀의 경우 최대 11자리, 윈도우 노드 풀 최대 6자리
prod_common_agent_pool_count: "1" # Common 쿠버네티스 에이전트 풀 노드 대수
prod_common_agent_pool_vm_size: "Standard_D2s_v5" # Common 쿠버네티스 에이전트 풀 가상 머신 스펙
prod_common_agent_node_label_prefix: "Environment" # Common 쿠버네티스 에이전트 풀 노드 프리픽스
prod_common_agent_node_label: "prod-common-agent" # Common 쿠버네티스 에이전트 풀 노드 레이블
###
prod_node_max_pods_count: "110" # 쿠버네티스 사용자 노드 최대 파드 대수
prod_node_pool_mode: "User" # 쿠버네티스 사용자 노드 풀 모드
###
prod_common_shared_node_min_count: "2" # Common 쿠버네티스 사용자 노드 풀 최소 노드 대수
prod_common_shared_node_max_count: "5" # Common 쿠버네티스 사용자 노드 풀 최대 노드 대수
prod_common_shared_node_pool: "ezpprdshared" # Common 쿠버네티스 사용자 노드 풀 이름, 리눅스 노드 풀의 경우 최대 11자리, 윈도우 노드 풀 최대 6자리
prod_common_shared_node_vm_size: "Standard_D16ds_v5" # Common 쿠버네티스 사용자 노드 풀 가상머신 스펙
prod_common_shared_node_pool_label_prefix_1: "environment" # Common 노드 풀 레이블 프리픽스
prod_common_shared_node_pool_label_prefix_2: "product" # Common 노드 풀 레이블 프리픽스
prod_common_shared_node_pool_label_prefix_3: "resource" # Common 노드 풀 레이블 프리픽스
prod_common_shared_node_pool_label_prefix_4: "node-category" # Common 노드 풀 레이블 프리픽스
prod_common_shared_node_pool_label_prefix_5: "service-category" # Common 노드 풀 레이블 프리픽스
prod_common_shared_node_pool_label_1: "production" # Common 노드 풀 레이블
prod_common_shared_node_pool_label_2: "ez-planet" # Common 노드 풀 레이블
prod_common_shared_node_pool_label_3: "aks" # Common 노드 풀 레이블
prod_common_shared_node_pool_label_4: "common" # Common 노드 풀 레이블
prod_common_shared_node_pool_label_5: "shared" # Common 노드 풀 레이블
###
prod_common_service_node_min_count: "2" # Common 쿠버네티스 사용자 노드 풀 최소 노드 대수
prod_common_service_node_max_count: "5" # Common 쿠버네티스 사용자 노드 풀 최대 노드 대수
prod_common_service_node_pool: "ezpprdsvc" # Common 쿠버네티스 사용자 노드 풀 이름, 리눅스 노드 풀의 경우 최대 11자리, 윈도우 노드 풀 최대 6자리
prod_common_service_node_vm_size: "Standard_D32ds_v5" # Common 쿠버네티스 사용자 노드 풀 가상머신 스펙
prod_common_service_node_pool_label_prefix_1: "environment" # Common 노드 풀 레이블 프리픽스
prod_common_service_node_pool_label_prefix_2: "product" # Common 노드 풀 레이블 프리픽스
prod_common_service_node_pool_label_prefix_3: "resource" # Common 노드 풀 레이블 프리픽스
prod_common_service_node_pool_label_prefix_4: "node-category" # Common 노드 풀 레이블 프리픽스
prod_common_service_node_pool_label_prefix_5: "service-category" # Common 노드 풀 레이블 프리픽스
prod_common_service_node_pool_label_1: "production" # Common 노드 풀 레이블
prod_common_service_node_pool_label_2: "ez-planet" # Common 노드 풀 레이블
prod_common_service_node_pool_label_3: "aks" # Common 노드 풀 레이블
prod_common_service_node_pool_label_4: "common" # Common 노드 풀 레이블
prod_common_service_node_pool_label_5: "service" # Common 노드 풀 레이블
###
prod_common_msb_max_pods_count: "30" # 쿠버네티스 사용자 노드 최대 파드 대수
prod_common_msb_node_min_count: "3" # Common 쿠버네티스 사용자 노드 풀 최소 노드 대수
prod_common_msb_node_max_count: "5" # Common 쿠버네티스 사용자 노드 풀 최대 노드 대수
prod_common_msb_node_pool: "ezpprdmsb" # Common 쿠버네티스 사용자 노드 풀 이름, 리눅스 노드 풀의 경우 최대 11자리, 윈도우 노드 풀 최대 6자리
prod_common_msb_node_vm_size: "Standard_D4ds_v5" # Common 쿠버네티스 사용자 노드 풀 가상머신 스펙
prod_common_msb_node_pool_label_prefix_1: "environment" # Common 노드 풀 레이블 프리픽스
prod_common_msb_node_pool_label_prefix_2: "product" # Common 노드 풀 레이블 프리픽스
prod_common_msb_node_pool_label_prefix_3: "resource" # Common 노드 풀 레이블 프리픽스
prod_common_msb_node_pool_label_prefix_4: "node-category" # Common 노드 풀 레이블 프리픽스
prod_common_msb_node_pool_label_prefix_5: "service-category" # Common 노드 풀 레이블 프리픽스
prod_common_msb_node_pool_label_1: "production" # Common 노드 풀 레이블
prod_common_msb_node_pool_label_2: "ez-planet" # Common 노드 풀 레이블
prod_common_msb_node_pool_label_3: "aks" # Common 노드 풀 레이블
prod_common_msb_node_pool_label_4: "common" # Common 노드 풀 레이블
prod_common_msb_node_pool_label_5: "messagebus" # Common 노드 풀 레이블
prod_common_msb_node_pool_taints: ["Service=MessageBus:NoSchedule"]
###
prod_common_db_max_pods_count: "30" # 쿠버네티스 사용자 노드 최대 파드 대수
prod_common_db_node_min_count: "3" # Common 쿠버네티스 사용자 노드 풀 최소 노드 대수
prod_common_db_node_max_count: "5" # Common 쿠버네티스 사용자 노드 풀 최대 노드 대수
prod_common_db_node_pool: "ezpprddb" # Common 쿠버네티스 사용자 노드 풀 이름, 리눅스 노드 풀의 경우 최대 11자리, 윈도우 노드 풀 최대 6자리
prod_common_db_node_vm_size: "Standard_D4ds_v5" # Common 쿠버네티스 사용자 노드 풀 가상머신 스펙
prod_common_db_node_pool_label_prefix_1: "environment" # Common 노드 풀 레이블 프리픽스
prod_common_db_node_pool_label_prefix_2: "product" # Common 노드 풀 레이블 프리픽스
prod_common_db_node_pool_label_prefix_3: "resource" # Common 노드 풀 레이블 프리픽스
prod_common_db_node_pool_label_prefix_4: "node-category" # Common 노드 풀 레이블 프리픽스
prod_common_db_node_pool_label_prefix_5: "service-category" # Common 노드 풀 레이블 프리픽스
prod_common_db_node_pool_label_1: "production" # Common 노드 풀 레이블
prod_common_db_node_pool_label_2: "ez-planet" # Common 노드 풀 레이블
prod_common_db_node_pool_label_3: "aks" # Common 노드 풀 레이블
prod_common_db_node_pool_label_4: "common" # Common 노드 풀 레이블
prod_common_db_node_pool_label_5: "database" # Common 노드 풀 레이블
prod_common_db_node_pool_taints: ["Service=DataBase:NoSchedule"]
###
prod_common_alert_action_group: "Prod-Common-K8s-Alert-Group" # 알람 액션 그룹
prod_common_cpu_alert_short_name: "CpuAlert" # CPU 알람 Short 이름
prod_common_alert_email_admin: "Prod-Common-k8sadmin" # 알람 메일 관리자
prod_common_alert_email_address: "hw038@laonpeople.com" # 알람 메일 주소
prod_common_cpu_alert_name: "Prod-Common-K8s-Cpu-Alert" # CPU 알람 이름
prod_common_cpu_metric_namespace: "Microsoft.ContainerService/managedClusters" # CPU 메트릭 이름 스페이스
prod_common_cpu_metric_name: "node_cpu_usage_percentage" # CPU 메트릭 이름
prod_common_cpu_aggregate: "Average" # CPU 사용 합계
prod_common_cpu_operator: "GreaterThan" # CPU 오퍼레이터
prod_common_cpu_threshold: "80" # CPU 쓰레드홀드
prod_common_mem_alert_name: "Prod-Common-K8s-Mem-Alert" # 메모리 알람 이름
prod_common_mem_metric_namespace: "Microsoft.ContainerService/managedClusters" # 메모리 메트릭 이름 스페이스
prod_common_mem_metric_name: "node_memory_working_set_percentage" # 메모리 메트릭 이름
prod_common_mem_aggregate: "Average" # 메모리 사용 합계
prod_common_mem_operator: "GreaterThan" # 메모리 오퍼레이터
prod_common_mem_threshold: "80" # 메모리 쓰레드홀드
prod_common_log_workspace_name: "Prod-Common-K8s-log-workspace" # 로그 WorkSpace 이름
prod_common_log_workspace_name_sku: "PerGB2018" # 로그 Workspace SKU
prod_common_log_solution_name: "ContainerInsights" # 로드 솔루션 이름
prod_common_diag_name: "Prod-Common-K8s-diagnose" # 진단 이름
prod_common_k8s_log: # 쿠버네티스 로깅
- name: "cloud-controller-manager" # 컨트롤러 Manager
- name: "cluster-autoscaler" # 클러스터 오토스케이러
- name: "csi-azuredisk-controller" # csi disk 컨트롤러
- name: "csi-azurefile-controller" # csi 파일 컨트롤러
- name: "csi-snapshot-controller" # csi 스냅샷 컨트롤러
- name: "kube-apiserver" # 쿠버네티스 API 서버
- name: "kube-controller-manager" # 쿠버네티스 컨트롤러 Manager
- name: "kube-scheduler" # 쿠버네티스 스케쥴러
prod_common_k8s_metric: # 쿠버네티스 메트릭
- name: "AllMetrics" # 모든 메트릭
prod_common_k8s_metric_enabled: true # 메트릭 활성화

# For Common 쿠버네티스 Private Endpoint
prod_common_private_dns_zone: "ezplanet-prod.privatelink.koreacentral.azmk8s.io"
prod_common_virtual_link: paas-prod-vnet-link
shared_virtual_link: paas-shared-vnet-link
sp_prod_virtual_link: paas-sp-prod-vnet-link
laonpeople_mgmt_virutal_link: laonpeople-mgmt-vnet-link

# Shared 네트워크 정보
shared_virtual_network_id: /subscriptions/d8873738-1e0a-4688-9b53-5ce13f0073a9/resourceGroups/EZ-Planet-PaaS-Shared-RG/providers/Microsoft.Network/virtualNetworks/EZ-Planet-PaaS-Shared-vNET

# SP-Prod 네트워크 정보
sp_prod_virtual_network_id: /subscriptions/0a1a7865-0f51-4274-8deb-687663497832/resourceGroups/Laon-Service-Platform-Prod-RG/providers/Microsoft.Network/virtualNetworks/Laon-Service-Platform-Prod-vNET
# Mgmt 네트워크 정보
laonpeople_mgmt_virtual_network_id: /subscriptions/6c8c61e2-16fd-4d19-a8df-3f4cc501ee62/resourceGroups/Laonpeople-Mgmt-RG/providers/Microsoft.Network/virtualNetworks/Laonpeople-Mgmt-vNET